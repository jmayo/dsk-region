<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8" />
	<title>Sistema de Gestión de Personal</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, 
	maximum-scale=1" />
	<!--css-->
	<link rel="stylesheet" type="text/css" href="css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="js/jquery-ui-1.11.2.custom/jquery-ui.css" />
	<link rel="stylesheet" type="text/css" href="css/index.css" />
	<!--js-->
	<script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
	<script src="js/jquery-ui-1.11.2.custom/jquery-ui.js" type="text/javascript"></script>
	 <script type="text/javascript" src="lib/underscore.js"></script>
  <script type="text/javascript" src="lib/handlebars-v1.3.0.js"></script>
  <script type="text/javascript" src="lib/backbone.js"></script>
  <script type="text/javascript" src="js/app.js"></script>
   <script type="text/javascript" src="js/models/personal.js"></script>
   <script type="text/javascript" src="js/models/catalogo.js"></script>
   
   <script type="text/javascript" src="js/collections/personas.js"></script>
  <script type="text/javascript" src="js/collections/catalogos.js"></script>

	

</head>
<body>
	<header>
		<style>html, head, body { width: 100%; height: 100% }</style>
		<div class="titulo">
			SISTEMA DE GESTIÓN DE PERSONAL
		</div>
		<div id="mapdiv">hola</div>
  <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
  <script>
    map = new OpenLayers.Map("mapdiv");
    map.addLayer(new OpenLayers.Layer.OSM());
 
    var lonLat = new OpenLayers.LonLat( -0.1279688 ,51.5077286 )
          .transform(
            new OpenLayers.Projection("EPSG:4326"), // transform from WGS 1984
            map.getProjectionObject() // to Spherical Mercator Projection
          );
 
    var zoom=16;
 
    var markers = new OpenLayers.Layer.Markers( "Markers" );
    map.addLayer(markers);
 
    markers.addMarker(new OpenLayers.Marker(lonLat));
 
    map.setCenter (lonLat, zoom);
  </script>
	</header>
	<nav>
		<ul class="menu">
			<li><a class="personal" href="#"></a></li>
			<li><a class="empresas" href="#"></a></li>
			<li><a class="catalogos" href="#"></a></li>
		</ul>
		<ul class="cerrar_sesion">
			<li><a class="cerrar_sesion" href="#"></a></li>
		</ul>
	</nav>
	<div class="caja_acciones">
		<ul class="menu_acciones">
			<li class="aa"><a href="#" class="nuevo"></a></li>
			<li><a href="#" class="eliminar"></a></li>
			<li><a href="#" class="guardar"></a></li>
			<li><input type="text" placeholder="Buscar" class="buscar"/></li>
		</ul>
		<div hidden class="divResultados">
			<!-- <div class="resultado_ind">
				<img  src=images/foto.png />
				<span class="name">Raul Enrique Torres Reyes</span>
				<p>23333</p>
			</div>
			<div class="resultado_ind">
				<img  src=images/foto.png />
				<span class="name">Diana Torres Reyes</span>
				<p>23333</p>
			</div> -->

		</div>

	</div>
	<section class="contenido">
		<article class="bloque">
			<div class="titulo_bloque" >
				Básicos
			</div>
			<div class="caja_bloque">
				<div class="campos_bloque" id="personal_basicos">
					<!--<ul class="ul_bloque"> -->
					<!-- Plantilla de detalle del personal -->
				</div>
			</div>
		</article>
		<article class="bloque">
			<div  id="titulo" class="titulo_bloque">
				Administración
			</div>
			<div class="caja_bloque">
				<div class="campos_bloque">
					<ul class="ul_bloque">
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="tipo_de_alta">Tipo de Alta</label>
							<select name="tipo_de_alta" class="select_bloque">
								<option value="normal">Normal</option>
								<option value="condicionada">Condicionada</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="fecha_de_alta">Fecha de Alta</label>
							<input id="cal_fec_alt" class="inputs_bloque" type="text" placeholder="Fecha de Alta" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="alta_condicionada">Alta Condicionada</label>
							<input class="radio_bloque" type="radio" name="alta_condicionada" value="si">
							<label for="portacion"><span><span></span></span>Si</label>
							<input class="radio_bloque" type="radio" name="alta_condicionada" value="no" checked="checked">
							<label for="alta_condicionada"><span><span></span></span>No</label>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="alta_condicionada"></label>
							<textarea class="textarea_bloque" name="condicion_alta" placeholder="Condición(es)"></textarea>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="tipo_de_empleado">Tipo de Empleado</label>
							<select name="tipo_de_empleado" class="select_bloque">
								<option value="operativo">Operativo</option>
								<option value="administrativo">Administrativo</option>
							</select>
						</li>
					</ul>
				</div>
			</div>
			<br>
			<div class="titulo_bloque">
				Domicilio
			</div>
			<div class="caja_bloque">
				<div class="campos_bloque">
					<ul class="ul_bloque">
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle">Calle</label>
							<textarea class="textarea_bloque" name="calle" placeholder="Calle"></textarea>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="numero">Número</label>
							<input class="inputs_bloque" type="text" placeholder="Número" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="codigo_postal">Código Postal</label>
							<input class="inputs_bloque" type="text" placeholder="Código Postal" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_estado">Estado</label>
							<select name="calle_estado" class="select_bloque">
								<option value="estado_de_mexico">Estado de México</option>
								<option value="distrito_federal">Distrito Federal</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_municipio">Municipio</label>
							<select name="calle_municipio" class="select_bloque">
								<option value="tlalnepantla">Tlalnepantla</option>
								<option value="naucalpan">Naucalpan</option>
								<option value="miguel_hidalgo">Miguel Hidalgo</option>
								<option value="azcapotzalco">Azcapotzalco</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_ciudad">Ciudad/Población</label>
							<input class="inputs_bloque" type="text" placeholder="Ciudad/Población" />
						</li>
					
					</ul>
				</div>
			</div>
		</article>
		<article class="bloque">
			<div class="titulo_bloque">
			</div>		
			<div class="caja_foto">
				<figure class="foto">
					<img src="images/foto.png" alt="foto" />
				</figure>
			</div>
		</article>
	</section>



<script type="text/javascript">
   
	Handlebars.registerHelper('if', function(conditional, options) {
		  if(conditional) {
		    return options.fn(this);
		  }
		});

	Handlebars.registerHelper('ifCond', function(v1, v2, options) {
  		if(v1 === v2) {
    		return options.fn(this);
  		}
  		return options.inverse(this);
	});

     Handlebars.registerHelper('titulos_caja',function(contenido, options){
        label_id = '';
        label_desc = options.hash.label_desc;
        if (options.hash.label_id !== undefined){
        	label_id = 'id="'+ options.hash.label_id + '"';
         }
        return '<label ' + label_id + ' for="'+ label_desc +'" class="etiquetas_bloque">'+ contenido +'</label>';
      });


      Handlebars.registerHelper('valores_caja', function(options){
        input_id = '';
        valor = '';
        input_desc = options.hash.input_desc;
        
         if (options.hash.input_id !== undefined){
        	input_id = 'id="'+ options.hash.input_id + '"';
         }

         if (options.hash.valor !== undefined){
        	valor = 'value="'+ options.hash.valor + '"';
         }

        return '<input '+ input_id + ' class="inputs_bloque" type="text" placeholder="'+ input_desc + '" ' +valor + ' />';
      });


    Handlebars.registerHelper('selectores_combo',function(options){
        select_id = ''; 
        select_name = options.hash.select_name;
        if (options.hash.select_id !== undefined){
        	select_id = 'id="'+ options.hash.select_id + '"';
         }
        return '<select name="' + select_name + '" class="select_bloque" ' + select_id + '> </select>'
      });

	
	  Handlebars.registerHelper('valores_radio', function(options){
	        radio_id = ''; 
	        valor = '';
	        checado = '';
	        radio_name = options.hash.radio_name;

	        titulo = options.hash.titulo ;
	        
	        valor = 'value="'+ options.hash.valor + '" ';
	        

	        if (options.hash.radio_id !== undefined){
        	radio_id = 'id="'+ options.hash.radio_id + '"';
         	}
	         if (options.hash.checado===true){
	        	checado = 'checked="checked"';
	         }

	        label = '<label ' + radio_id  + ' for="' + radio_name + '"><span><span></span></span>"' + titulo + '"</label>';
	        return '<input  class="radio_bloque" type="radio" name="' +  radio_name + '" ' + valor + checado + '/>' + label
	      });



	 //Helper de agrupacion
    Handlebars.registerHelper('grp_perdet',function(contenido, options){
		var res1 =Handlebars.helpers.titulos_caja(contenido, options)
		var res2 =Handlebars.helpers.valores_caja(options)
		return '<li class="li_bloque">' + res1 + res2 + '</li>';
		}
    );
	Handlebars.registerHelper('grp_combo',function(contenido, options){
		var res1 =Handlebars.helpers.titulos_caja(contenido, options)
		var res2 =Handlebars.helpers.selectores_combo(options)
		return '<li class="li_bloque">' + res1 + res2 + '</li>';
		}
    );

	Handlebars.registerHelper('grp_options',function(contenido, options){
		var res1 =Handlebars.helpers.titulos_caja(contenido, options)
	
		options.hash.titulo = options.hash.op1_titulo;
		options.hash.valor = options.hash.op1_val;
		options.hash.checado = options.hash.op1_checado;
		var res2 =Handlebars.helpers.valores_radio(options)

		options.hash.titulo = options.hash.op2_titulo;
		options.hash.valor = options.hash.op2_val;
		options.hash.checado = !options.hash.op1_checado;
		var res3 =Handlebars.helpers.valores_radio(options)
	
		return '<li class="li_bloque">' + res1 + res2 +  res3 + '</li>';
		}
    );
 


</script>


  <script id="resultados-busqueda-template" type="text/x-handlebars-template">
		<img  src=images/foto.png />
		<span>{{paterno}} {{materno}} {{nombre}}</span>
		<p>{{matricula}}</p>
  </script>

<script id="personal-catalogos-template" type="text/x-handlebars-template">
	{{descripcion1}} 
</script>

<script id="personal-detalle-template" type="text/x-handlebars-template">
   <ul class="ul_bloque"> 

  {{{titulos_caja id label_desc="id_principal" label_id='persona_id'}}}
  {{{grp_perdet "Matricula" valor=matricula input_id='persona_matricula' label_desc='matricula_empleado' input_desc='Matricula Empleado'}}}
  {{{grp_perdet "Paterno" valor=paterno  input_id='persona_paterno' label_desc='paterno' input_desc='Paterno'}}}
  {{{grp_perdet "Materno" valor=materno  input_id='persona_materno' label_desc='materno' input_desc='Materno'}}}
  {{{grp_perdet "Nombre(s)" valor=nombre  input_id='persona_nombre' label_desc='nombres' input_desc='Nombre(s)'}}}
  {{{grp_perdet "RFC" valor=rfc  input_id='persona_rfc' label_desc='rfc' input_desc='RFC'}}}
  {{{grp_perdet "CURP" valor=curp  input_id='persona_curp' label_desc='curp' input_desc='CURP'}}}
  {{{grp_perdet "CUIP" valor=cuip  input_id='persona_cuip'   label_desc='cuip' input_desc='CUIP'}}}
  {{{grp_perdet "Fecha de Nacimiento" valor=fec_nacimiento input_id="persona_fec_nac" label_desc='fecha_nacimiento' input_desc='Fecha de Nacimiento'}}}
  {{{grp_combo "Lugar de Nacimiento"    label_desc='etiquetas_bloque' select_name='select_bloque' select_id='perso_edonac'}}} 
  {{{grp_combo "Municipio"   label_desc='lugar_nacimiento_municipio' select_name='municipio' select_id='perso_mpionac'}}}
  {{{grp_combo "Estado Civil"   label_desc='estado_civil' select_name='estado_civil' select_id='perso_estado_civil'}}}
  {{{grp_combo "Escolaridad"   label_desc='escolaridad' select_name='escolaridad' select_id='perso_escolaridad'}}}
  {{{grp_combo "Religión"   label_desc='religion' select_name='religion' select_id='perso_religion'}}}
  {{{grp_options "Portación"  radio_id='persona_portacion' label_desc='portacion' op1_titulo="Si" op2_titulo="No" op1_val=true op2_val=false  op1_checado=portacion radio_name='persona_portacion' input_booleano=portacion}}}   
  {{{grp_combo "Seguridad Social"   label_desc='seguridad_social' select_name='seguridad_social' select_id='perso_segsoc'}}}
  {{{grp_perdet "Id. Seguridad Social" valor=id_seguridad_social  input_id='persona_segsocial' label_desc='id_seguridad_social' input_desc='Id. Seguridad Social'}}}
	</ul>
 </script>


	<footer>
		<ul class="redes_sociales">
			<li><a class="twitter" href="#"></a></li>
			<li><a class="facebook" href="#"></a></li>
			<li><a class="e-mail" href="#"></a></li>
		</ul>
	</footer>
	<script type="text/javascript" src="js/views/cajaBusqueda.js"></script>
  <script type="text/javascript" src="js/views/personalBusqueda.js"></script>
  <script type="text/javascript" src="js/views/personalBusquedas.js"></script>
  <script type="text/javascript" src="js/views/personalDetalle.js"></script>
  <script type="text/javascript" src="js/views/personalCatalogo.js"></script>
 <script type="text/javascript" src="js/views/personalCatalogos.js"></script> 
  <script type="text/javascript" src="js/routers/router.js"></script>
  <script type="text/javascript" src="js/main.js"></script> 
</body>
</html>
