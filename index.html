<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8" />
	<title>Sistema de Gestión de Personal</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, 
	maximum-scale=1" />
	<!--css-->
	<link rel="stylesheet" type="text/css" href="css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="js/jquery-ui-1.11.2.custom/jquery-ui.css" />
	<link rel="stylesheet" type="text/css" href="css/index.css" />
	<!--js-->
	<script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
	<script src="js/jquery-ui-1.11.2.custom/jquery-ui.js" type="text/javascript"></script>
	<script src="lib/jquery.iframe-transport.js" type="text/javascript"></script>
	
	<!--para mapas-->
	<link rel="stylesheet" href="http://openlayers.org/en/v3.1.1/css/ol.css" type="text/css" />
	<script src="http://openlayers.org/en/v3.1.1/build/ol.js" type="text/javascript"></script>
	<script src="js/mapa.js" type="text/javascript"></script>

	<!--Esta se puede quitar ya que se cargara en las librerias del modelado-->
	<!--<script src="js/index.js" type="text/javascript"> </script>-->
	<!--Librerias de backbone-->
	<script type="text/javascript" src="lib/underscore.js"></script>
	<script type="text/javascript" src="lib/handlebars-v1.3.0.js"></script>
    <script type="text/javascript" src="lib/backbone.js"></script>
    <!--Librerias del modelado con backbone-->
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/models/personal.js"></script>
    <script type="text/javascript" src="js/models/catalogo.js"></script>
    <script type="text/javascript" src="js/collections/personas.js"></script>
    <script type="text/javascript" src="js/collections/catalogos.js"></script>


</head>
<body>
	<header>
		<div class="titulo">
			SISTEMA DE GESTIÓN DE PERSONAL
		</div>
	</header>
	<nav>
		<ul class="menu">
			<li><a class="personal" href="#"></a></li>
			<li><a class="empresas" href="#"></a></li>
			<li><a class="catalogos" href="#"></a></li>
		</ul>
		<ul class="cerrar_sesion">
			<li><a class="cerrar_sesion" href="#"></a></li>
		</ul>
	</nav>
	<div class="caja_acciones">
		<ul class="menu_acciones">
			<li><a href="#" class="nuevo"></a></li>
			<li><a href="#" class="eliminar"></a></li>
			<li><a href="#" class="guardar"></a></li>
			<li><input type="text" placeholder="Buscar" class="buscar"/></li>
			<form enctype="multipart/form-data">
			    <label>File<input name='file' type='file' /></label>
			    <br>
			    <label>Name<input name='name' type='text' /></label>
			    <br>
			    <input type="submit" value="Upload">
			</form>

		</ul>
		<div hidden class="divResultados">
				<!-- Template:	resultados-busqueda-template	 -->
	    </div>
	</div>
	<section class="contenido">

	 <section class="contenido_personal" id="personal_basicos" hidden>	
			<!-- Template:	personal-detalle-template	 -->
	 </section>	

	<section class="contenido_empresas" >
			<article class="bloque">
			<div class="titulo_bloque">
				Empresa
			</div>
			<div class="caja_bloque">
				<div class="campos_bloque">
					<ul class="ul_bloque">
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="id_empresa">Id Empresa</label>
							<input class="inputs_bloque" type="text" placeholder="Id Empresa" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="razon_social">Razón Social</label>
							<textarea class="textarea_bloque" name="razon_social" placeholder="Razón Social"></textarea>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="rfc">RFC</label>
							<input class="inputs_bloque" type="text" placeholder="RFC" />
						</li>						
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle">Calle</label>
							<textarea class="textarea_bloque" name="calle" placeholder="Calle"></textarea>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="numero">Número</label>
							<input class="inputs_bloque" type="text" placeholder="Número" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="colonia">Colonia</label>
							<input class="inputs_bloque" type="text" placeholder="Colonia" />
						</li>						
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="codigo_postal">Código Postal</label>
							<input class="inputs_bloque" type="text" placeholder="Código Postal" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_estado">Estado</label>
							<select name="calle_estado" class="select_bloque">
								<option value="estado_de_mexico">Estado de México</option>
								<option value="distrito_federal">Distrito Federal</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_municipio">Municipio</label>
							<select name="calle_municipio" class="select_bloque">
								<option value="tlalnepantla">Tlalnepantla</option>
								<option value="naucalpan">Naucalpan</option>
								<option value="miguel_hidalgo">Miguel Hidalgo</option>
								<option value="azcapotzalco">Azcapotzalco</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_ciudad">Ciudad/Población</label>
							<input class="inputs_bloque" type="text" placeholder="Ciudad/Población" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="telefono1">Teléfono 1</label>
							<input class="inputs_bloque" type="text" placeholder="Teléfono 1" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="telefono2">Teléfono 2</label>
							<input class="inputs_bloque" type="text" placeholder="Teléfono 2" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="giro">Giro</label>
							<select name="giro" class="select_bloque">
								<option value="industriales">Industriales</option>
								<option value="extractivas">Extractivas</option>
								<option value="manufactureras">Manufactureras</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="rubro">Rubro</label>
							<select name="rubro" class="select_bloque">
								<option value="textil">Textil</option>
								<option value="construccion">Construccion</option>
								<option value="plasticos">Plasticos</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="fecha_de_alta">Fecha de Alta</label>
							<input id="cal_fec_alt" class="inputs_bloque" type="text" placeholder="Fecha de Alta" />
						</li>						
					</ul>
				</div>
			</div>
		</article>
		<article class="bloque">
			<div class="titulo_bloque">
				Contacto
			</div>
			<div class="caja_bloque">
				<div class="campos_bloque">
					<ul class="ul_bloque">
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="paterno">Paterno</label>
							<input class="inputs_bloque" type="text" placeholder="Paterno" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="materno">Materno</label>
							<input class="inputs_bloque" type="text" placeholder="Materno" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="nombres">Nombre(s)</label>
							<input class="inputs_bloque" type="text" placeholder="Nombre(s)" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="telefono">Teléfono</label>
							<input class="inputs_bloque" type="text" placeholder="Teléfono" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="e-mail">e-mail</label>
							<input class="inputs_bloque" type="text" placeholder="e-mail" />
						</li>
					</ul>
				</div>
			</div>
			<br>
			<div class="titulo_bloque">
				Ubicación
			</div>
			<div class="caja_bloque">
				<div id="mapa" class="campos_bloque">
				</div>
			</div>
		</article>

		<article class="bloque_links">
			<ul class="ul_links">
				<li class="li_links"><a class="a_links" href="#">Sucursales</a></li>
				<li class="li_links"><a class="a_links" href="#">Mapas</a></li>
			</ul>
		</article>
	</section>

	</section>
	<footer>
		<ul class="redes_sociales">
			<li><a class="twitter" href="#"></a></li>
			<li><a class="facebook" href="#"></a></li>
			<li><a class="e-mail" href="#"></a></li>
		</ul>
	</footer>


<!-- ***************** Plantilla de detalle del personal ********************************* -->


<script type="text/javascript">
   
   // Funciones generales para los templates
	Handlebars.registerHelper('if', function(conditional, options) {
		  if(conditional) {
		    return options.fn(this);
		  }
		});

	Handlebars.registerHelper('ifCond', function(v1, v2, options) {
  		if(v1 === v2) {
    		return options.fn(this);
  		}
  		return options.inverse(this);
	});

	//********** Helpers ********************

	//Helper para titulos de campos
    Handlebars.registerHelper('titulos_caja',function(contenido, options){
        label_id = '';
        label_desc = options.hash.label_desc;
        if (options.hash.label_id !== undefined){
        	label_id = 'id="'+ options.hash.label_id + '"';
         }
        return '<label ' + label_id + ' for="'+ label_desc +'" class="etiquetas_bloque">'+ contenido +'</label>';
      });

 	//Helper para cajas de texto
    Handlebars.registerHelper('valores_caja', function(options){
        input_id = '';
        valor = '';
        input_desc = options.hash.input_desc;
        
         if (options.hash.input_id !== undefined){
        	input_id = 'id="'+ options.hash.input_id + '"';
         }

         if (options.hash.valor !== undefined){
        	valor = 'value="'+ options.hash.valor + '"';
         }

        return '<input '+ input_id + ' class="inputs_bloque" type="text" placeholder="'+ input_desc + '" ' +valor + ' />';
      });

	//Helper para cajas de texto
    Handlebars.registerHelper('valores_textarea', function(options){
        valor = options.hash.valor;
    	textarea_id ='';
        textarea_desc = options.hash.textarea_desc;
    
        return '<textarea '+ textarea_id + ' class="textarea_bloque" placeholder="'+ textarea_desc + '">' +valor + '</textarea>';
      });


  
	


    //Helper para selectores tipo combo
    Handlebars.registerHelper('selectores_combo',function(options){
        select_id = ''; 
        select_name = options.hash.select_name;
        if (options.hash.select_id !== undefined){
        	select_id = 'id="'+ options.hash.select_id + '"';
         }
        return '<select name="' + select_name + '" class="select_bloque" ' + select_id + '> </select>'
      });

	
    //Helper para controles tipo radio
	Handlebars.registerHelper('valores_radio', function(options){
	        radio_id = ''; 
	        valor = '';
	        checado = '';
	        radio_name = options.hash.radio_name;

	        titulo = options.hash.titulo ;
	        
	        valor = 'value="'+ options.hash.valor + '" ';
	        

	        if (options.hash.radio_id !== undefined){
        	radio_id = 'id="'+ options.hash.radio_id + '"';
         	}
	         if (options.hash.checado===true){
	        	checado = 'checked="checked"';
	         }

	        label = '<label ' + radio_id  + ' for="' + radio_name + '"><span><span></span></span>"' + titulo + '"</label>';
	        return '<input  class="radio_bloque" type="radio" name="' +  radio_name + '" ' + valor + checado + '/>' + label
	      });

	// ************* Helper de agrupacion de varios controles ***********************

	 //Agrupacion de label como titulo y un input
    Handlebars.registerHelper('grp_perdet',function(contenido, options){
		var res1 =Handlebars.helpers.titulos_caja(contenido, options)
		var res2 =Handlebars.helpers.valores_caja(options)
		return '<li class="li_bloque">' + res1 + res2 + '</li>';
		}
    );
  
	 //Agrupacion de label como titulo y un TextArea
    Handlebars.registerHelper('grp_perdetTextArea',function(contenido, options){
		var res1 =Handlebars.helpers.titulos_caja(contenido, options)
		var res2 =Handlebars.helpers.valores_textarea(options)
		return '<li class="li_bloque">' + res1 + res2 + '</li>';
		}
    );




    //Agrupacion de label como titulo y un combo
	Handlebars.registerHelper('grp_combo',function(contenido, options){
		var res1 =Handlebars.helpers.titulos_caja(contenido, options)
		var res2 =Handlebars.helpers.selectores_combo(options)
		return '<li class="li_bloque">' + res1 + res2 + '</li>';
		}
    );

	//Agrupacion de un label como titulo y dos radio button
	Handlebars.registerHelper('grp_options',function(contenido, options){
		var res1 =Handlebars.helpers.titulos_caja(contenido, options)
	
		options.hash.titulo = options.hash.op1_titulo;
		options.hash.valor = options.hash.op1_val;
		options.hash.checado = options.hash.op1_checado;
		var res2 =Handlebars.helpers.valores_radio(options)

		options.hash.titulo = options.hash.op2_titulo;
		options.hash.valor = options.hash.op2_val;
		options.hash.checado = !options.hash.op1_checado;
		var res3 =Handlebars.helpers.valores_radio(options)
	
		return '<li class="li_bloque">' + res1 + res2 +  res3 + '</li>';
		}
    );
</script>


	<!--Plantillas del personal usando handlerbars -->


  <script id="resultados-busqueda-template" type="text/x-handlebars-template">
		<img  src=images/foto.png />
		<span>{{paterno}} {{materno}} {{nombre}}</span>
		<p>{{matricula}}</p>
  </script>

<script id="personal-catalogos-template" type="text/x-handlebars-template">
	{{descripcion1}} 
</script>

<script id="personal-detalle-template" type="text/x-handlebars-template">
		<article class="bloque">
			<div class="titulo_bloque">
				Básicos
			</div>
			<div class="caja_bloque">
				<div class="campos_bloque" >
				   <ul class="ul_bloque"> 
				  {{{titulos_caja id label_desc="id_principal" label_id='persona_id'}}}
				  {{{grp_perdet "Matricula" valor=matricula input_id='persona_matricula' label_desc='matricula_empleado' input_desc='Matricula Empleado'}}}
				  {{{grp_perdet "Paterno" valor=paterno  input_id='persona_paterno' label_desc='paterno' input_desc='Paterno'}}}
				  {{{grp_perdet "Materno" valor=materno  input_id='persona_materno' label_desc='materno' input_desc='Materno'}}}
				  {{{grp_perdet "Nombre(s)" valor=nombre  input_id='persona_nombre' label_desc='nombres' input_desc='Nombre(s)'}}}
				  {{{grp_perdet "RFC" valor=rfc  input_id='persona_rfc' label_desc='rfc' input_desc='RFC'}}}
				  {{{grp_perdet "CURP" valor=curp  input_id='persona_curp' label_desc='curp' input_desc='CURP'}}}
				  {{{grp_perdet "CUIP" valor=cuip  input_id='persona_cuip'   label_desc='cuip' input_desc='CUIP'}}}
				  {{{grp_perdet "Fecha de Nacimiento" valor=fec_nacimiento input_id="persona_fec_nac" label_desc='fecha_nacimiento' input_desc='Fecha de Nacimiento'}}}
				  {{{grp_combo "Lugar de Nacimiento"    label_desc='etiquetas_bloque' select_name='select_bloque' select_id='perso_edonac'}}} 
				  {{{grp_combo "Municipio"   label_desc='lugar_nacimiento_municipio' select_name='municipio' select_id='perso_mpionac'}}}
				  {{{grp_combo "Estado Civil"   label_desc='estado_civil' select_name='estado_civil' select_id='perso_estado_civil'}}}
				  {{{grp_combo "Escolaridad"   label_desc='escolaridad' select_name='escolaridad' select_id='perso_escolaridad'}}}
				  {{{grp_combo "Religión"   label_desc='religion' select_name='religion' select_id='perso_religion'}}}
				  {{{grp_options "Portación"  radio_id='persona_portacion' label_desc='portacion' op1_titulo="Si" op2_titulo="No" op1_val=true op2_val=false  op1_checado=portacion radio_name='persona_portacion' input_booleano=portacion}}}   
				  {{{grp_combo "Seguridad Social"   label_desc='seguridad_social' select_name='seguridad_social' select_id='perso_segsoc'}}}
				  {{{grp_perdet "Id. Seguridad Social" valor=id_seguridad_social  input_id='persona_segsocial' label_desc='id_seguridad_social' input_desc='Id. Seguridad Social'}}}
					</ul>
				</div>
			</div>
		</article>
				<article class="bloque">
			<div class="titulo_bloque">
				Administración
			</div>
			<div class="caja_bloque">
				<div class="campos_bloque" id="personal_administracion">
					<ul class="ul_bloque"> 
					 	{{{grp_combo "Tipo de Alta"   label_desc='tipo_de_alta' select_name='tipo_de_alta' select_id='perso_tipo_de_alta'}}}
					  {{{grp_perdet "Fecha de Alta" valor=fec_alta input_id="cal_fec_alt" label_desc='fecha_de_alta' input_desc='Fecha de Alta'}}}  
					  {{{grp_options "Alta Condicionada"  radio_id='persona_condicionada' label_desc='alta_condicionada' op1_titulo="Si" op2_titulo="No" op1_val=true op2_val=false  op1_checado=condicionada radio_name='persona_condicionada' input_booleano=condicionada}}}   

						{{{grp_perdetTextArea "" valor=condiciones_alta   label_desc='' textarea_desc='Condición(es)'}}}

					  {{{grp_combo "Administrativo"   label_desc='tipo_de_empleado' select_name='tipo_de_empleado' select_id='perso_tipo_de_empleado'}}}	
					</ul>
				</div>
			</div>
			<br>
			<div class="titulo_bloque">
				Domicilio
			</div>
			<div class="caja_bloque">
				<div class="campos_bloque">
					<ul class="ul_bloque">
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle">Calle</label>
							<textarea class="textarea_bloque" name="calle" placeholder="Calle"></textarea>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="numero">Número</label>
							<input class="inputs_bloque" type="text" placeholder="Número" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="colonia">Colonia</label>
							<input class="inputs_bloque" type="text" placeholder="Colonia" />
						</li>						
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="codigo_postal">Código Postal</label>
							<input class="inputs_bloque" type="text" placeholder="Código Postal" />
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_estado">Estado</label>
							<select name="calle_estado" class="select_bloque">
								<option value="estado_de_mexico">Estado de México</option>
								<option value="distrito_federal">Distrito Federal</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_municipio">Municipio</label>
							<select name="calle_municipio" class="select_bloque">
								<option value="tlalnepantla">Tlalnepantla</option>
								<option value="naucalpan">Naucalpan</option>
								<option value="miguel_hidalgo">Miguel Hidalgo</option>
								<option value="azcapotzalco">Azcapotzalco</option>
							</select>
						</li>
						<li class="li_bloque">
							<label class="etiquetas_bloque" for="calle_ciudad">Ciudad/Población</label>
							<input class="inputs_bloque" type="text" placeholder="Ciudad/Población" />
						</li>
					</ul>
				</div>
			</div>
		</article>
		<article class="bloque">
			<div class="titulo_bloque">
				Foto
			</div>		
			<div class="caja_foto">
				<figure class="foto">
					<p><img src="images/foto.png" alt="foto" />
				</figure>
			</div>
		</article>
 </script>

 
	<!--Otros modelos de backbone  -->
   <script type="text/javascript" src="js/views/menu.js"></script>
  <script type="text/javascript" src="js/views/contenido.js"></script>
   <script type="text/javascript" src="js/views/cajaOperaciones.js"></script>
  <script type="text/javascript" src="js/views/cajaBusqueda.js"></script>
  <script type="text/javascript" src="js/views/personalBusqueda.js"></script>
  <script type="text/javascript" src="js/views/personalBusquedas.js"></script>
  <script type="text/javascript" src="js/views/personalDetalle.js"></script>
  <script type="text/javascript" src="js/views/personalCatalogo.js"></script>
 <script type="text/javascript" src="js/views/personalCatalogos.js"></script> 

<script type="text/javascript" src="js/models/formView.js"></script> 
<script type="text/javascript" src="js/views/formView.js"></script> 

  <script type="text/javascript" src="js/routers/router.js"></script>
  <script type="text/javascript" src="js/main.js"></script> 
</body>
</html>
